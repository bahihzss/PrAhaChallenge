# 課題1
## Book と Author に外部キー制約を定義しない場合の問題点
* Author テーブルから既に Book を持つレコードが消えてしまって、 Author を参照できなくなる
* 存在しない author_id を Book に設定できてしまい、 Author を参照できなくなる

## Book と Author に外部キー制約を定義する場合の問題点
* テストテーブルを初期化したい場合などに、先に Book テーブルから消さないとエラーが出る
* 複数のテーブルと外部キー制約を持ってると、何が原因でデータが消せないのか分かりづらくなる時がある
* DB を跨いだ制約はかけられない

# 課題2
## RESTRICT,NO ACTION
デフォルトのアクション、親テーブルに対する削除・更新はエラーになる
* 基本的にこれでいいと思う

## CASCADE
子要素が連動して削除または更新される
* TRIGGER で設定するより高速
* 請求書の明細など親テーブルが消えた時に存在する意味がない子データに対しては有効？
* 理由がわからずデータが消える原因になるので注意
* あんまり使い所がわからない

## SET NULL
親テーブルが削除されると子テーブルの外部キーカラムを NULL にする
* 使うべき状況が特に思いつかない・・・

# 課題2-2
## 従業員サービス
新しく部署を作ってそこに全員異動みたいになったときに、間違えて古い部署を先に消すと従業員情報が全部消える

## プロジェクトマネジメントツール
Assignee を削除すると担当者のいない Issue が存在しないというドメイン知識から外れたレコードが存在する様になってしまう。
アプリケーション側のコードに関係なく発生するのも怖いところ。

# 課題2-3
## Prisma
ON DELETE: カラムが NOT NULL なら RESTRICT 違えば SET NULL  
ON UPDATE: CASCADE

## Eloquent
RESTRICT

# 課題2-4
## MySQL
ちがいないみたい

## PostgreSQL
https://www.postgresql.jp/document/8.0/html/ddl-constraints.html#:~:text=%E5%89%8A%E9%99%A4%E3%81%AE%E5%88%B6%E9%99%90,%E5%A4%B1%E6%95%97%E3%81%97%E3%81%BE%E3%81%99%E3%80%82

NO ACTIONではチェックをトランザクション中で後回しにすることができるのに対し、RESTRICTでは後回しにできないということです。
